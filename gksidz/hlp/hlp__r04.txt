
 Описание работы регулятора:  ПОДКАЧКА ВЯЖУЩЕГО [4]
 ==================================================


НАЧАЛО:

         Каждый цикл определять соответствие клапанов гомогенизатора


ШАГ 00:
         Начальное состояние выбора гомогенизатора
         CHAN_GOM1V = OFF; 
         CHAN_GOM2V = OFF; CHANGE = OFF;
    
         Если включен регулятор (REG04R___V=ON) и управление переключено 
         на автомат (DIR110___V=AUTO) и есть нижний уровень 1-го 
         гомогенизатора (DIL110___V=YES)- выбрать 1-ый гомогенизатор
         (CHAN_GOM1V=ON).

         Если не выбран 1-ый гомогенизатор (CHAN_GOM1V=OFF), а для 2-го
         включен регулятор (REG04R___V=ON) и управление переключено 
         на автомат (DIR120___V=AUTO) и есть нижний уровень 2-го 
         гомогенизатора (DIL120___V=YES)- выбрать 2-ой гомогенизатор
         (CHAN_GOM2V=ON).

         Если регулятор выключен (REG04R___V=OFF) - выйти.

         Если не выбран неодин гомогенизатор- ждать (5*MIN) и затем
         вывести сообщение оператору (когда не включен автоматический режим
         или нет уровней).

         Начальное состояние клапанов- все закрыто
         DON111 = OFF;
         DON112 = OFF;

         Если есть нижний уровень в бункере вяжущего (DIL140___V=ON)- 
         выйти из регулятора.

         Если нижнего уровня нет (DIL140___V=OFF)- начать подкачку.

         Если включен ручной режим работы аспирации (DIR130___V=OFF)- 
         вывести сообщение о невозможности подкачки в автоматическом режиме
         и выйти из регулятора.

         Обнулить значения счетчиков:
         TIME_GON_C = 0;
         TIME_GOFFC = 0;
         TIME_BVAJC = 0;

         Перейти на ШАГ 01.


ШАГ 01:
         Включить вентилятор аспирации вяжущего (DON131___V=ON).

         Перейти на ШАГ 02.


ШАГ 02:
         Открыть клапан воздуха на инжектор (DON112=ON)

         Подать сигнал на открытие клапана воздуха (без проверок)
         DON111 = ON;

         Установить время открытия клапана воздуха
        (TIME_GG_CONTROL=TIME_GON_V).

         Перейти на ШАГ 03.


ШАГ 03:
         Переодически, через время (TIME_GG_CONTROL) открыть-закрыть клапан
         подачи воздуха на гомогенизатор и менять контроль счетчиков:

         - если клапан был открыт (DON111=ON):
           закрыть клапан и установить контроль счетчика закрытого состояния
           клапана (DON111=OFF, TIME_GG_CONTROL=TIME_GOFFV);
         - если клапан был закрыт (DON111=OFF):
           открыть клапан и установить контроль счетчика открытого состояния
           клапана (DON111=ON, TIME_GG_CONTROL=TIME_GON_V);
         - каждый цикл увеличить счетчик контроля (TIME_GON_C или TIME_GOFFC).

         Считать общее время загрузки бункера вяжущего (TIME_BVAJC++).
       
         Если по истечении этого времени, нет верхнего уровня бункера вяжущего
        (DIH140___V=OFF) - послать сообщение оператору.

         Перейти на ШАГ 04.


ШАГ 04:
         Выключить клапан подачи воздуха в гомогенизатор (DON111=OFF).

         Выключить клапан подачи воздуха на инжектор (DON112=OFF).

         Выключить вентилятор аспирации цемента (DON131___V=OFF).

         Перейти на ШАГ 00.

------------------------------------------------------------------------------
