
 Описание работы регулятора:  ПОДКАЧКА ЦЕМЕНТА [5]
 =================================================


НАЧАЛО:

         Если регулятор выключен (REG05R___V=OFF) - выйти.


ШАГ 00:
         Проверка работы нижнего уровня (нижнего-нет, верхний-есть)
        (DIL170___V=OFF, DIH170___V=ON)- послать сообщение оператору, выйти. 

         Если пропал нижний уровень бункера цемента (DIL170___V=OFF)- 
         послать оператору склада цемента сигнал (DON091___V=ON) и записать
         сообщение.

         Ждать сигнал от оператора склада цемента.

         Если нет сигнала (DIS091___V=OFF) от оператора склада цемента за 
         заданное время (TIME_OSC5V)- вывести сообщение и считать заново 
        (переодически выводить сообщение)

         Обнулить значения счетчиков для оператора (вывод на экран)
         TIME_LEV5C = 0;
         TIME_NAS5C = 0;
         LOAD_NS10C = 0;

         Если регулятор в ручном режиме(DIR100___V=MANUAL)- выйти.
           
         Если есть сигнал от опратора склада цемента (DIS091___V=OFF) 
         для начала загрузки- записать сообщение и перейти на ШАГ 01.


ШАГ 01:
         Выключить сигнал оператору склада цемента (DON091___V=OFF).

         Подкачка цемента может работать даже если режим работы аспирации
         установлен в ручной режим (не управляется с компьютера)

         Включить вентилятор аспирации цемента (DON161___V=ON).
      
         Сбросить флаг окончания подкачки цемента (FLAG_0506A=OFF) для 
         регулятора 06 (дозировка сухого).

        -Если вентилятор аспирации цемента включился (DIS161___V=ON):
         сбросить счетчик ожидания ответа оператора (TIME_OSC5C=0),
         перейти на ШАГ 02.


ШАГ 02:
         Закрыть клапан воздуха пневмонасоса цемента (DON101___V=OFF)
         - если не закрылся (DIS101___V=ON )- выйти.

         Открыть клапан подачи цемента в пневмонасос (DON102___V=ON)
         - если не открылся (DIS102___V=OFF)- выйти.

         Перейти на ШАГ 03.


ШАГ 03:
         Ждать сработки уровня пневмонасоса подачи цемента (DIS102___V=ON):

         Если за определенное (TIME_LEV5V)  уровень пневмонасоса не сработал
         (DIS102___V=OFF) или если сработал уровень пневмонасоса 
         (DIS102___V=ON)

         Перейти на ШАГ 04.


ШАГ 04:
         Закрыть клапан подачи цемента в пневмонасос (DON102___V=OFF)
         - если не закрылся (DIS102___V=ON )- выйти.

         Открыть клапан воздуха пневмонасоса цемента (DON101___V=ON)
         - если не открылся (DIS101___V=OFF)- выйти.

         Если время (TIME_NAS5V) выгрузки пневмонасоса не прошло- выйти.

         Если время (TIME_NAS5V) выгрузки пневмонасоса прошло и уровень
         пневмонасоса остался сработанным (DIH100___V=ON)- вывести
         сообщение оператору.

         Перейти на ШАГ 05.


ШАГ 05:
         Закрыть клапан воздуха пневмонасоса цемента (DON101___V=OFF).
         - если не закрылся (DIS101___V=ON )- выйти.
       
         Увеличить счетчик количества загруженных насосов (LOAD_NS10C++).

         Перейти на ШАГ 06.


ШАГ 06:
         Если в бункере цемента есть нижний (DIL170___V=YES) и верхний 
         (DIH170___V=YES) уровни или если загружено количество насосов 
         больше заданного (LOAD_NS10C>=LOAD_NS10V)- перейти на ШАГ 07.

         Если какое-то из вышеперечисленных условий не выполнилось-
         начать следующую загрузку:
         Перейти на ШАГ 02.


ШАГ 07:
         Выключить вентилятор аспирации цемента (DON161___V=OFF).
         - если не выключился (DIS161___V=ON )- выйти.

         Установить флаг окончания подкачки цемента (FLAG_0506A=ON)

         Перейти на ШАГ 00.

------------------------------------------------------------------------------
